<!-- DO NOT EDIT THIS FILE-->
<!-- Edit the .tex version instead-->

<html>
<head>
<title>Formal Syntax of Scheme</title>
</head>
<body>

<a name="g2488"></a>
<h1>Formal Syntax of Scheme</h1>





<p>
The formal grammars and accompanying text appearing here describe
the syntax of Scheme programs and data.
Consult the Summary of Forms and Procedures and the individual
descriptions given in Chapters&nbsp;<a href="binding.html#g1868">4</a> through&nbsp;<a href="syntax.html#g2237">8</a>
for additional details on specific <a name="g2489"></a>syntactic forms.

<p>
Programs and data are formed from <a name="g2490"></a>tokens, whitespace, and comments.
Tokens include identifiers, booleans, numbers, characters, strings,
open and close parentheses, the open vector parenthesis <tt>#(</tt>, the
dotted pair marker <tt>.</tt> (dot), the quotation marks <tt>'</tt> and <tt>`</tt>, and the
unquotation marks <tt>,</tt> and <tt>,@</tt>.
<a name="g2491"></a>Whitespace consists of spaces and newline characters
and in some implementations also consists of other characters, such
as tabs or form feeds.
<a name="g2492"></a>A comment consists of a <a name="g2493"></a><a name="g2494"></a>semicolon (&nbsp;<tt>;</tt>&nbsp;)
followed by any number of characters up to the next line break.
A token may be surrounded by any number of whitespace characters
and comments.
Identifiers, numbers, characters, and dot are delimited by whitespace,
the start of a comment, an open or close parenthesis, or a string
quote.

<p>
In the productions below, &lt;empty&gt; stands for the empty string.
An item followed by an asterisk (&nbsp;*&nbsp;) represents zero or more
occurrences of the item, and an item followed by a raised plus sign
(&nbsp;<sup>+</sup>&nbsp;) represents one or more occurrences.
Spacing between items within a production appears for readability
only and should be treated as if it were not present.

<p>
<p><b>Programs.</b>&nbsp;&nbsp;A <a name="g2495"></a>program consists of a sequence of definitions and
expressions.

<p>

  
  
  <table><tr><td nowrap>
&lt;program&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;form&gt;*</td></tr><tr><td nowrap>
&lt;form&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;definition&gt; | &lt;expression&gt;
</td></tr></table>

<p>
<p><b>Definitions.</b>&nbsp;&nbsp;Definitions include variable and syntax <a name="g2496"></a>definitions,
<a name="g2497"></a><tt>begin</tt> forms containing zero or more definitions,
<a name="g2498"></a><tt>let-syntax</tt> and <a name="g2499"></a><tt>letrec-syntax</tt> forms expanding into zero or more
definitions, and derived definitions.
Derived definitions are <a name="g2500"></a>syntactic extensions
that expand into some form of definition.
A transformer expression is a <tt>syntax-rules</tt> form or some other
expression that produces a transformer.

<p>

  
  
  <table><tr><td nowrap>
&lt;definition&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;variable definition&gt;</td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap>&lt;syntax definition&gt;</td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap><tt>(begin</tt> &lt;definition&gt;*<tt>)</tt></td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap><tt>(let-syntax (</tt>&lt;syntax binding&gt;*<tt>)</tt>
                  &lt;definition&gt;*<tt>)</tt></td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap><tt>(letrec-syntax (</tt>&lt;syntax binding&gt;*<tt>)</tt>
                  &lt;definition&gt;*<tt>)</tt></td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap>&lt;derived definition&gt;</td></tr><tr><td nowrap>
&lt;variable definition&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>(define</tt> &lt;variable&gt; &lt;expression&gt;<tt>)</tt></td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap><tt>(define (</tt>&lt;variable&gt; &lt;variable&gt;*<tt>)</tt> &lt;body&gt;<tt>)</tt></td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap><tt>(define (</tt>&lt;variable&gt; &lt;variable&gt;* <tt>.</tt> &lt;variable&gt;<tt>)</tt>
                  &lt;body&gt;<tt>)</tt></td></tr><tr><td nowrap>
&lt;variable&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;identifier&gt;</td></tr><tr><td nowrap>
&lt;body&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;definition&gt;* &lt;expression&gt;<sup>+</sup></td></tr><tr><td nowrap>
&lt;syntax definition&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>(define-syntax</tt> &lt;keyword&gt; &lt;transformer expression&gt;<tt>)</tt></td></tr><tr><td nowrap>
&lt;keyword&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;identifier&gt;</td></tr><tr><td nowrap>
&lt;syntax binding&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>(</tt>&lt;keyword&gt; &lt;transformer expression&gt;<tt>)</tt>
</td></tr></table>

<p>
<p><b>Expressions.</b>&nbsp;&nbsp;Expressions include core expressions,
<a name="g2501"></a><tt>let-syntax</tt> or
<a name="g2502"></a><tt>letrec-syntax</tt> forms expanding
into a sequence of one or more expressions, and <a name="g2503"></a>derived expressions.
The core expressions are
self-evaluating constants, variable references,
applications, and <tt>quote</tt>, <tt>lambda</tt>, <tt>if</tt>, and <tt>set!</tt> expressions.
Derived expressions include
<tt>and</tt>,
<tt>begin</tt>,
<tt>case</tt>,
<tt>cond</tt>,
<tt>delay</tt>,
<tt>do</tt>,
<tt>let</tt>,
<tt>let*</tt>,
<tt>letrec</tt>,
<tt>or</tt>, and
<tt>quasiquote</tt>
expressions
plus syntactic extensions that expand into some form of expression.

<p>

  
  
  <table><tr><td nowrap>
&lt;expression&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;constant&gt;</td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap>&lt;variable&gt;</td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap><tt>(quote</tt> &lt;datum&gt;<tt>)</tt> | <tt>'</tt> &lt;datum&gt;</td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap><tt>(lambda</tt> &lt;formals&gt; &lt;body&gt;<tt>)</tt></td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap><tt>(if</tt> &lt;expression&gt; &lt;expression&gt; &lt;expression&gt;<tt>)</tt>
         | <tt>(if</tt> &lt;expression&gt; &lt;expression&gt;<tt>)</tt></td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap><tt>(set!</tt> &lt;variable&gt; &lt;expression&gt;<tt>)</tt></td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap>&lt;application&gt;</td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap><tt>(let-syntax (</tt>&lt;syntax binding&gt;*<tt>)</tt>
                  &lt;expression&gt;<sup>+</sup><tt>)</tt></td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap><tt>(letrec-syntax (</tt>&lt;syntax binding&gt;*<tt>)</tt>
                  &lt;expression&gt;<sup>+</sup><tt>)</tt></td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap>&lt;derived expression&gt;</td></tr><tr><td nowrap>
&lt;constant&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;boolean&gt; | &lt;number&gt; | &lt;character&gt; | &lt;string&gt;</td></tr><tr><td nowrap>
&lt;formals&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;variable&gt; | <tt>(</tt>&lt;variable&gt;*<tt>)</tt>
                | <tt>(</tt>&lt;variable&gt;<sup>+</sup> <tt>.</tt> &lt;variable&gt;<tt>)</tt></td></tr><tr><td nowrap>
&lt;application&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>(</tt>&lt;expression&gt; &lt;expression&gt;*<tt>)</tt>
</td></tr></table>

<p>
<p><b>Identifiers.</b>&nbsp;&nbsp;<a name="g2504"></a>Identifiers may denote variables,
keywords, or symbols, depending upon context.
They are formed from sequences of letters, digits, and special characters.
With three exceptions, identifiers cannot begin with a character
that can also begin a number, i.e., they cannot begin with <tt>.</tt>, <tt>+</tt>, <tt>-</tt>, or
a digit.
The three exceptions are the identifiers <tt>...</tt>, <tt>+</tt>, and <tt>-</tt>.
Case is insignificant in symbols so that, for example,
<tt>newspaper</tt>, <tt>NewsPaper</tt>, and <tt>NEWSPAPER</tt> all
represent the same identifier.

<p>

  
  
  <table><tr><td nowrap>
&lt;identifier&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;initial&gt; &lt;subsequent&gt;* | <tt>+</tt>
     | <tt>-</tt> | <tt>...</tt></td></tr><tr><td nowrap>
&lt;initial&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;letter&gt; | <tt>!</tt> | <tt>$</tt> | <tt>%</tt>
    | <tt>&amp;</tt> | <tt>*</tt> | <tt>/</tt> | <tt>:</tt>
    | <tt>&lt;</tt> | <tt>=</tt> | <tt>&gt;</tt> | <tt>?</tt>
    | <tt>~</tt> | <tt>_</tt> | <tt>^</tt></td></tr><tr><td nowrap>
&lt;subsequent&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;initial&gt; | &lt;digit&gt; | <tt>.</tt>
    | <tt>+</tt> | <tt>-</tt></td></tr><tr><td nowrap>
&lt;letter&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>a</tt> | <tt>b</tt> | ... | <tt>z</tt></td></tr><tr><td nowrap>
&lt;digit&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>0</tt> | <tt>1</tt> | ... | <tt>9</tt>
</td></tr></table>

<p>
<p><b>Data.</b>&nbsp;&nbsp;<a name="g2505"></a>Data include booleans, numbers, characters, strings,
symbols, lists, and vectors.
Case is insignificant in the syntax for booleans, numbers, and
character names, but it is significant in other character constants
and in strings.
For example, <tt>#T</tt> is equivalent to <tt>#t</tt>, <tt>#E1E3</tt> is equivalent to
<tt>#e1e3</tt>, <tt>#X2aBc</tt> is equivalent to <tt>#x2abc</tt>, and <tt>#\NewLine</tt> is
equivalent to <tt>#\newline</tt>; but <tt>#\A</tt> is distinct from <tt>#\a</tt> and
<tt>"String"</tt> is distinct from <tt>"string"</tt>.

<p>

  
  
  <table><tr><td nowrap>
&lt;datum&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;boolean&gt; | &lt;number&gt; | &lt;character&gt; | &lt;string&gt; | &lt;symbol&gt; | &lt;list&gt; | &lt;vector&gt;</td></tr><tr><td nowrap>
&lt;boolean&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>#t</tt> | <tt>#f</tt></td></tr><tr><td nowrap>
&lt;number&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;num 2&gt; | &lt;num 8&gt; | &lt;num 10&gt; | &lt;num 16&gt;</td></tr><tr><td nowrap>
&lt;character&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>#\</tt> &lt;any character&gt; | <tt>#\newline</tt>
                    | <tt>#\space</tt></td></tr><tr><td nowrap>
&lt;string&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>"</tt> &lt;string character&gt;* <tt>"</tt></td></tr><tr><td nowrap>
&lt;string character&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>\"</tt> | <tt>\\</tt> | &lt;any character other than <tt>"</tt> or <tt>\</tt>&gt;</td></tr><tr><td nowrap>
&lt;symbol&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;identifier&gt;</td></tr><tr><td nowrap>
&lt;list&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>(</tt>&lt;datum&gt;*<tt>)</tt>
               | <tt>(</tt>&lt;datum&gt;<sup>+</sup> <tt>.</tt> &lt;datum&gt;<tt>)</tt>
               | &lt;abbreviation&gt;</td></tr><tr><td nowrap>
&lt;abbreviation&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>'</tt> &lt;datum&gt; | <tt>`</tt> &lt;datum&gt; 
                       | <tt>,</tt> &lt;datum&gt; | <tt>,@</tt> &lt;datum&gt;</td></tr><tr><td nowrap>
&lt;vector&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>#(</tt>&lt;datum&gt;*<tt>)</tt>
</td></tr></table>

<p>
<p><b>Numbers.</b>&nbsp;&nbsp;<a name="g2506"></a>Numbers can appear in one of four radixes:
2, 8, 10, and 16, with 10 the default.
The first several of productions below are parameterized by the radix,
<i>r</i>, and each represents four productions, one for each of the
four possible radixes.
Numbers that contain radix points or exponents are constrained to
appear in radix
10, so &lt;decimal <i>r</i>&gt; is valid only when <i>r</i> is 10.

<p>

  
  
  <table><tr><td nowrap>
&lt;num <i>r</i>&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;prefix <i>r</i>&gt; &lt;complex <i>r</i>&gt;</td></tr><tr><td nowrap>
&lt;complex <i>r</i>&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;real <i>r</i>&gt; | &lt;real <i>r</i>&gt; @ &lt;real <i>r</i>&gt;</td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap>&lt;real <i>r</i>&gt; <tt>+</tt> &lt;imag <i>r</i>&gt; | &lt;real <i>r</i>&gt; <tt>-</tt> &lt;imag <i>r</i>&gt;</td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap><tt>+</tt> &lt;imag <i>r</i>&gt; | <tt>-</tt> &lt;imag <i>r</i>&gt;</td></tr><tr><td nowrap>
&lt;imag <i>r</i>&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>i</tt> | &lt;ureal <i>r</i>&gt; <tt>i</tt></td></tr><tr><td nowrap>
&lt;real <i>r</i>&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;sign&gt; &lt;ureal <i>r</i>&gt;</td></tr><tr><td nowrap>
&lt;ureal <i>r</i>&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;uinteger <i>r</i>&gt; | &lt;uinteger <i>r</i>&gt; <tt>/</tt> &lt;uinteger <i>r</i>&gt; | &lt;decimal <i>r</i>&gt;</td></tr><tr><td nowrap>
&lt;uinteger <i>r</i>&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;digit <i>r</i>&gt;<sup>+</sup> <tt>#</tt>*</td></tr><tr><td nowrap>
&lt;prefix <i>r</i>&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;radix <i>r</i>&gt; &lt;exactness&gt; | &lt;exactness&gt; &lt;radix <i>r</i>&gt;</td></tr><tr><td nowrap>
&lt;decimal 10&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;uinteger 10&gt; &lt;exponent&gt;</td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap><tt>.</tt> &lt;digit 10&gt;<sup>+</sup> <tt>#</tt>* &lt;suffix&gt;</td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap>&lt;digit 10&gt;<sup>+</sup> <tt>.</tt> &lt;digit 10&gt;* <tt>#</tt>* &lt;suffix&gt;</td></tr><tr><td nowrap>
 </td><td align=center>|</td><td nowrap>&lt;digit 10&gt;<sup>+</sup> <tt>#</tt><sup>+</sup> <tt>.</tt> <tt>#</tt>* &lt;suffix&gt;</td></tr><tr><td nowrap>
&lt;suffix&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;empty&gt; | &lt;exponent&gt;</td></tr><tr><td nowrap>
&lt;exponent&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;exponent marker&gt; &lt;sign&gt; &lt;digit 10&gt;<sup>+</sup></td></tr><tr><td nowrap>
&lt;exponent marker&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>e</tt> | <tt>s</tt> | <tt>f</tt>
                 | <tt>d</tt> | <tt>l</tt></td></tr><tr><td nowrap>
&lt;sign&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;empty&gt; | <tt>+</tt> | <tt>-</tt></td></tr><tr><td nowrap>
&lt;exactness&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;empty&gt; | <tt>#i</tt> | <tt>#e</tt></td></tr><tr><td nowrap>
&lt;radix 2&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>#b</tt></td></tr><tr><td nowrap>
&lt;radix 8&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>#o</tt></td></tr><tr><td nowrap>
&lt;radix 10&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;empty&gt; | <tt>#d</tt></td></tr><tr><td nowrap>
&lt;radix 16&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>#x</tt></td></tr><tr><td nowrap>
&lt;digit 2&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>0</tt> | <tt>1</tt></td></tr><tr><td nowrap>
&lt;digit 8&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap><tt>0</tt> | <tt>1</tt> | ... | <tt>7</tt></td></tr><tr><td nowrap>
&lt;digit 10&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;digit&gt;</td></tr><tr><td nowrap>
&lt;digit 16&gt;</td><td align=center><img src="math/5.gif"></td><td nowrap>&lt;digit&gt; | <tt>a</tt> | <tt>b</tt>
               | <tt>c</tt> | <tt>d</tt> | <tt>e</tt>
               | <tt>f</tt>
</td></tr></table>

<p>



<hr><table><tr>
<td><img src="canned/tspl2ed.gif"></td>
<td><td>
<td>R. Kent Dybvig<br>
<em>The Scheme Programming Language, Second Edition</em><br>
&copy; 1996.  Electronically reproduced by permission of Prentice Hall,
Upper Saddle River, New Jersey.<br>
<a href="http://www.scheme.com">http://www.scheme.com</a><br>
Illustrations &copy; 1997 <a href="http://www.solo.com/studio">Jean-Pierre H&eacute;bert</a><br>
<a href="http://www.prenhall.com/ptrbooks/ptr_0134546466.html">to order this book</a><br>
<a href="canned/about.html">about this book</a></td>
</tr></table>
</body>
</html>
